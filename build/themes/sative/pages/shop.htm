title = "Shop"
url = "/shop"
layout = "default-cms"
is_hidden = 0

[myProductsList]
take = 15
orderBy = "title"
sort = "asc"
onSaleOnly = 0
productPage = "product-page"
==
<main class="products__listing">

    <section class="products container">

        <div class="section__intro container">
            <p class="section__title">
                Pinarello road bikes
            </p>
        </div>

        <div class="products__container">

            {% for product in productsPagination.items()|slice(productsPagination.perPage()*(productsPagination.currentPage()-1), productsPagination.perPage()) %}

                <div class="products__item">
                    <div class="products__item-photo">
                        {% if product.getMainImage %}
                            <img src="{{ product.getMainImage.thumb(300,auto, { extension: 'png' }) }}" alt="" width="300">
                        {% endif %}
                    </div>
                    <div class="products__item-text">
                        <h3 class="title">
                            {{product.brand.title}} {{ product.title }}
                        </h3>
                        <hr>
                        <p class="price">
                            price online:&nbsp;<span>{{ (product.getFinalPrice)|number_format(2, '.', ',') }}</span>&nbsp;PLN
                        </p>
                        {# <p class="sub-price">
                            regular price: <span>61,239</span> PLN
                        </p> #}
                    </div>
                    <div class="products__item-btn">
                        View product
                        <i class="icon-chevron_right_bold"></i>
                    </div>
                    <div class="whole-element-link" onclick="location.href = '{{ product.url}}'"></div>
                </div>
            
            {% else %}
                <div class="no-data">no products</div>
            {% endfor %}

        </div>
            
        {% if productsPagination.lastPage > 1 %}
            <div class="pagination-wrapper">
                <ul class="pagination">
                    {% if productsPagination.currentPage > 1 %}
                        <li><a href="{{ this.page.baseFileName|page({ (pageParam): (productsPagination.currentPage-1) }) }}">&larr; Prev</a></li>
                    {% endif %}
        
                    {% for page in 1..productsPagination.lastPage %}
                        <li class="{{ productsPagination.currentPage == page ? 'active' : null }}">
                            <a href="{{ this.page.baseFileName|page({ (pageParam): page }) }}">{{ page }}</a>
                        </li>
                    {% endfor %}
        
                    {% if productsPagination.lastPage > productsPagination.currentPage %}
                        <li><a href="{{ this.page.baseFileName|page({ (pageParam): (productsPagination.currentPage+1) }) }}">Next &rarr;</a></li>
                    {% endif %}
                </ul>
            </div>
            <nav class="products__pagination">
                
                {% if productsPagination.currentPage > 1 %}
                    <a href="{{ this.page.baseFileName|page({ (pageParam): (productsPagination.currentPage-1) }) }}" class="prev">
                        <i class="icon-chevron_left_bold"></i>
                        Prev
                    </a>
                {% endif %}

                <ul>
                    {% for page in 1..productsPagination.lastPage %}
                        <li class="{{ productsPagination.currentPage == page ? 'active' : null }}">
                            <a href="{{ this.page.baseFileName|page({ (pageParam): page }) }}">{{ page }}</a>
                        </li>
                    {% endfor %}
                </ul>

                {% if productsPagination.lastPage > productsPagination.currentPage %}
                    <a href="{{ this.page.baseFileName|page({ (pageParam): (productsPagination.currentPage+1) }) }}" class="next">
                        Next
                        <i class="icon-chevron_right_bold"></i>
                    </a>
                {% endif %}

            </nav>
        {% endif %}

    </section>

</main>